@model CreateCloudhubSessionModel

<h2 class="ls-title">Authentication Using Cloud Certificate with CloudHub</h2>

<div class="ls-content">
    @if (Model.Services != null && Model.Services.Count > 0) {
        <div class='w-100'>
            <div>
                <b> Choose one of the available cloud providers:</b>
                <div class="container px-0 pt-2">
                    <div class="row">
                        @foreach (var service in Model.Services) {
                            <div class="col-md-3">
                                <div class="card shadow rounded-0 min-vh-75" style="width: 18rem;">
                                    @if (!string.IsNullOrEmpty(service.ServiceInfo.BadgeUrl)) {
                                        <img src="@service.ServiceInfo.BadgeUrl" class="card-img-top" style="width: 100%; height: 150px" />
                                    } else {
                                        <div class="bg-light" style="width: 100%; height: 150px">
                                            <div class="pt-5">
                                                <p class="text-center">Empty BadgeUrl</p>
                                            </div>
                                        </div>
                                    }
                                    <div class="card-body">
                                        <button onclick="window.location.href='@service.AuthUrl'" class="provider-btn btn btn-dark">
                                            Sign With @service.ServiceInfo.Provider
                                        </button>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    } else {
        <h5 class="ls-subtitle">No trusted Model.Services were found with this CPF</h5>
        <div class="ls-content">
            <p>
                Possible reasons include:
                <ul>
                    <li>The given CPF does not exist on trusted Model.Services</li>
                </ul>
            </p>
            <p>
                The standard providers are:
                <ul>
                    <li>BirdID (Soluti)</li>
                    <li>ViDaaS (VALID)</li>
                    <li>NeoID (SERPRO)</li>
                    <li>RemoteID (Certisign)</li>
                    <li>SafeID (Safeweb)</li>
                </ul>
            </p>
            <button onclick="() => NavigationManager.NavigateTo(" previousPageUrl")" class="btn btn-primary">Try Again</button>
        </div>
    }
</div>

@section Scripts {
    <script type="text/javascript">
        function SignWithProvider(url) {
            console.log(url)
            // Redirect user.
            window.location.href = url;
        }
    </script>
}