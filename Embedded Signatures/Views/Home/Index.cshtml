@model Embedded_Signatures.Models.CreatePrescriptionModel
@{
    ViewData["Title"] = "Prescription";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!DOCTYPE html>
<div>
    @using (@Html.BeginForm("Index", "Home", FormMethod.Post))
    {
        <div class="container" style="margin-top:30px">
            <div class="row">
                <div class="col-md-12">
                    <div class="row justify-content-center">
                        <div class="col-sm-6 mb-4">
                            <h1 class="text-md-center">Criação de prescrição</h1>
                            <h3 class="text-md-center">Informe os dados abaixo para começar:</h3>
                        </div>
                    </div>
                </div>
                <table cellpadding="0" cellspacing="0">
                    <tr>
                        <th colspan="2" aling="center">AAA</th>
                    </tr>
                    <tr>
                        <td>Patient Name:</td>
                        <td>@Html.TextBoxFor(m =>m.PatientName)</td>
                    </tr>
                    <tr>
                        <td>Medication:</td>
                        <td>
                            @Html.DropDownListFor(m =>m.MedicationName,new List<SelectListItem>{
                        new SelectListItem{Text ="MedicationA", Value = "A"},
                        new SelectListItem{Text ="MedicationB", Value = "B"},
                        new SelectListItem{Text ="MedicationC", Value = "C"}
                        })
                        </td>
                        <td><input type="submit" value="Submit" /></td>
                    </tr>
                </table>
            </div>
        </div>


    }
</div>
 <div class=row-cols-auto>
            <div class="col-sm-12">
                <div id="embed-container" class="frame-container"></div>
            </div>
</div>
<div class="row-cols-4">
    <div class="col-lg-4">
        <input id="Sign" onclick="sign(event, '@ViewBag.embed')" class="sign-btn btn btn-primary" type="submit" />
    </div>
</div>
    



@section Scripts {
    <script>
        console.log("oi")
        function sign(event, url ="www") {
            console.log(url)
            var widget = new LacunaSignerWidget();
             console.log("chegou aqui")
            widget.render(url, 'embed-container')
            console.log("chegou aqui2")
            widget.on(widget.events.documentSigned, function(e) {
                alert('Document ' + e.id + ' signed');
            });
        }

    </script>




    }








