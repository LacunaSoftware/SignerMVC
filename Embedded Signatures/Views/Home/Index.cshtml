@model SignatureViewModel;
@{
    ViewData["Title"] = "Signer Embedded Signatures Examples";
}
<div class="container" style="margin-top:30px">
    <div class="row form-group" style="height:600px">
        <div class="col-sm-4">
            <div class="row mt-3">
                <div class="col-sm-12">
                    <button id="Sign1" onclick="sign(event, '@Model.embedUrlDigital', true)" class="btn btn-primary">Click here to sign Digital With Preview</button>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-sm-12">
                    <button id="Sign2" onclick="sign(event, '@Model.embedUrlDigital', false)" class="btn btn-primary">Click here to sign Digital Without Preview</button>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-sm-12">
                    <button id="Sign3" onclick="sign(event, '@Model.embedUrlEletronic', true)" class="btn btn-primary">Click here to sign Electronic With Preview</button>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-sm-12">
                    <button id="Sign4" onclick="sign(event, '@Model.embedUrlEletronic', false)" class="btn btn-primary">Click here to sign Electronic Without Preview</button>
                </div>
            </div>
        </div>
        <div class="col-sm-8">
            <div id="embed-container" style="height:600px;width:500px;"></div>
            <label for="cars">Choose the Document Size:</label>
            <select name="Size" id="Size">
                <option value="s50">50%</option>
                <option value="s100">100%</option>
                <option value="s200">200%</option>
                <option value="s500">500%</option>
            </select>
        </div>
    </div>
</div>

@section Scripts
	{
<script>

    $(document).ready(function() {
         $('#Sign');
    });

    function sign(event, url, allowPreviewDocument) {
        console.log(this);
        console.log(event.target.id);
        disableOtherButtons(event.target.id);
        console.log(url);
        var widget = allowPreviewDocument ? new LacunaSignerWidget() : new LacunaSignerWidget({ disableDocumentPreview: true });
        widget.setEnableRefusal(true)
        widget.on(widget.events.documentSigned, function (e) {
            alert('Document ' + e.id + ' signed');
            enableAllButtons(event.target.id);
        });
        widget.render(url,'embed-container');
        widget.render(null);
    }

    function disableOtherButtons(currentButtonId){
        for(i=1; i<=4; i++){
            var sign = "Sign" + i;
                document.getElementById(sign).disabled = true;
            
        }
    }

    function enableAllButtons(currentButtonId){
        for(i=1; i<=4; i++){
            var sign = "Sign" + i;
                document.getElementById(sign).disabled = false;
            
        }
    }

    function changeWidgetSize(){

    }



</script>
}
