@model SignatureViewModel;
@{
    ViewData["Title"] = "Signer Embedded Signatures Examples";
}
<div class="container" style="margin-top:30px">
    <div class="row form-group" style="height:600px">
        <div id="rows" class="col-sm-4 justify-content-md-center">
            <div class="row mt-3">
                <div class="col-sm-12">
                    <button id="Sign1" onclick="sign(event, '@Model.embedUrlDigital', true)" class="sign-btn btn btn-primary">Click here to sign Digital With Preview</button>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-sm-12">
                    <button id="Sign2" onclick="sign(event, '@Model.embedUrlDigital', false)" class="sign-btn btn btn-primary">Click here to sign Digital Without Preview</button>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-sm-12">
                    <button id="Sign3" onclick="sign(event, '@Model.embedUrlEletronic', true)" class="sign-btn btn btn-primary">Click here to sign Electronic With Preview</button>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-sm-12">
                    <button id="Sign4" onclick="sign(event, '@Model.embedUrlEletronic', false)" class="sign-btn btn btn-primary">Click here to sign Electronic Without Preview</button>
                </div>
            </div>
        </div>
        <div class="row col-sm-8">
            <div class="bottom-0 position-absolute">
                <a id="runagain" asp-action="Index">Click here to restart the example</a>
            </div>
        </div>
    </div>
    @section Scripts
    {
    <script>

        $(document).ready(function() {
             $('#Sign');
        });

        function sign(event, url, allowPreviewDocument){
            HideButtons(event.target);
            var widget = allowPreviewDocument ? new LacunaSignerWidget() : new LacunaSignerWidget(
                { disableDocumentPreview: true});
            widget.render(url,'rows');
            widget.on(widget.events.documentSigned, function (e) {
                alert('Document ' + e.id + ' signed');
                window.location.reload(true);
            });
        }

        function HideButtons(target){
            for(i=1; i<=4; i++){
                var sign = "Sign" + i;
                document.getElementById(sign).hidden = true;
            }
        }

    </script>
    }
</div>
